# Globetrotting-Guru

Created by:

Dexter Fong Hoy Yik (A0229591W) (Frontend and backend)
Liu Tianhang (A0167038B) (Machine Learning)
Ma Zhaoyang (A0198918E) (Cloud architecture)
Vincent Andrian Chandra (A0212221E) (Backend and database)

A Software-as-a-Service (SaaS) web application that connects tourism businesses impacted by COVID-19 to customers in their host communities i.e. Singapore.

GG provides personalized recommendations to users on ongoing tourism events and promotions based on two key custom innovations:
1. A **recommendation algorithm** that derives these recommendations based on users’ complementary
interests, preferences and auxiliary features like budget and location
2. A **machine learning driven** prediction model for identifying places of interest based on user submitted
photos which are then used to tailor the recommendations provided.

## Screenshots

![image](https://user-images.githubusercontent.com/42005057/150919715-603d4de9-e3e9-462b-874d-24a2ab2028cd.png)

![image](https://user-images.githubusercontent.com/42005057/150919834-5f41b9e4-ea6e-4567-abb7-204e7e1017de.png)

![image](https://user-images.githubusercontent.com/42005057/150920177-68a60533-f91c-4c13-ac9f-4b645aaf17a1.png)

![image](https://user-images.githubusercontent.com/42005057/150919926-946280f9-976d-4474-981a-eeb7b99c6b21.png)

## Software Architecture

Functional Design Diagram
![image](https://user-images.githubusercontent.com/42005057/150915442-12bb5d67-7193-44da-bc1e-ed6ce53c0554.png)

Components Diagram
![image](https://user-images.githubusercontent.com/42005057/150915484-78e4a78f-420e-411f-965f-d2bfc6e812aa.png)

## Cloud Implementation Diagram

As a web application, it will be hosted with three core components:
- For the **Frontend**, a Web Server that hosts and delivers static content to users.
- A main **backend Application Server** that responds to API REST calls over HTTP from the client
whenever there is a need to execute business logic e.g. authenticating the user after the user tries to login
from the website.
- A **Database** to hold user and place information which are then used to store preferences and generate
recommendations. Given the anticipated scale, GG will adopt a non-relational database.

These core components are then supported by a host of auxiliary components:
- A **Content Delivery Network** that serves static content for GG to improve the speed at which our users
can access the website.
- An **Object Store** that temporarily holds uploaded photos from our users so that they can be processed
using our Machine Learning pipeline to identify and tag the photos.
- A separate **AI Application Server** whose main responsibility would be fetching photos uploaded to our
object store, and interacting with our inhouse Machine Learning Model to identify and tag them. The
decision to separate AI processing into a separate server stems from the different scaling requirements that
the AI processing server would have, compared with our main backend server.
- Although these will not be implemented as part of GG, we will be calling **External APIs** to supplement
the recommendations generated by our backend with details such as user reviews and traffic data in
realtime.

![image](https://user-images.githubusercontent.com/42005057/150915576-acac6216-c3c9-4006-87c4-e34b86c984b3.png)

## Recommendation Diagram

For normal recommendations, a typical flow works as follows:
1. Users visit our site and obtains static content from our cloud Content Delivery Network (CloudFront)
2. Users enter login details and logs into our site, which calls our HTTP POST /users/authenticate
endpoint.
3. User data is fetched from DynamoDB to validate the login attempt.
4. A successful response is returned to the user.
5. Users generate a recommendation from the home page by clicking on our “Get Recommendation” button,
which calls the HTTP POST /recommendation endpoint.
6. User data is first fetched from DynamoDB, and later used to build a query for recommendations. Given
the set of recommendations returned, we execute our recommendation algorithm (described later) to
determine the most optimal result.
7. API calls are made to external services such as LTA and TIH (see External Dependencies) to enrich the
recommendation result returned.
8. Recommendation response is returned to clients and displayed to users.

![image](https://user-images.githubusercontent.com/42005057/150915681-7a6c0da3-3c76-44c1-a268-53e6f050984f.png)

In addition to this normal flow, users are also allowed to upload one or more image files to be processed by our AI
API Server, the results of which are used to also generate a new recommendation based on analysis of the
uploaded images. The additional steps taken during this flow are highlighted above (Steps 6-11):

6. After receiving the binary images from the client, our API server posts these files to an S3 bucket.
7. The API Server makes a synchronous request to our AI API Server that contains the bucket locations of
the uploaded images.
8. The AI API Server downloads these images from our S3 bucket.
9. It then calls a real-time inference endpoint configured on Sagemaker with the image information.
10. Sagemaker returns a prediction based on the request payload to our AI API Server.
11. The AI API Server returns that result back to our primary API Server.

While executing our recommendation algorithm in Step 12, the API Server will also fetch the appropriate place
documents that match the inference result from the AI API Server. Each place document contains a set of tags or
interests that are then used to query the recommendations table for suitable recommendations.

## Data Schema

DynamoDB will host data for the following entities:
- **Users** - Contains both basic information about the user’s account (e.g. name, email, username, etc.) as well
as information used to generated recommendations (e.g. budget)
- **Interests** - Contains the mapping for a user’s interests, where an interest is defined as a keyword or tag
such as ‘romance’ or ‘luxury’
- **Places** - Contains the list of actual places and data on all recommendations available to be served to users.
Based on information about the requester, our backend will query this table for the most suitable set of
recommendations, and perform further filtering to extract a single result which is shown to the user, for
which a user can express his (or lack of) preference
